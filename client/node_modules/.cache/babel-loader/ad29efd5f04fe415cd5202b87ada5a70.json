{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst classnames_1 = __importDefault(require(\"classnames\"));\n\nconst react_1 = __importDefault(require(\"react\"));\n/**\n * Base CSS class.\n * @private\n */\n\n\nconst baseClass = 'react-auto-scroll';\n/**\n * Get a random string.\n * @private\n */\n\nconst getRandomString = () => Math.random().toString(36).slice(2, 15);\n/**\n * AutoScroll component.\n */\n\n\nexports.default = _ref => {\n  let {\n    checkBoxId = getRandomString(),\n    children,\n    className,\n    height,\n    optionText = 'Auto scroll',\n    preventInteraction = false,\n    scrollBehavior = 'smooth',\n    showOption = true\n  } = _ref;\n  const [autoScroll, setAutoScroll] = react_1.default.useState(true);\n  const containerElement = react_1.default.useRef(null);\n  const cls = classnames_1.default(baseClass, className, {\n    [`${baseClass}--empty`]: react_1.default.Children.count(children) === 0,\n    [`${baseClass}--prevent-interaction`]: preventInteraction,\n    [`${baseClass}--showOption`]: showOption\n  });\n  const style = {\n    height,\n    overflow: 'auto',\n    scrollBehavior: 'auto',\n    pointerEvents: preventInteraction ? 'none' : 'auto'\n  }; // Handle mousewheel events on the scroll container.\n\n  const onWheel = () => {\n    const {\n      current\n    } = containerElement;\n\n    if (current && showOption) {\n      setAutoScroll(current.scrollTop + current.offsetHeight === current.scrollHeight);\n    }\n  }; // Apply the scroll behavior property after the first render,\n  // so that the initial render is scrolled all the way to the bottom.\n\n\n  react_1.default.useEffect(() => {\n    setTimeout(() => {\n      const {\n        current\n      } = containerElement;\n\n      if (current) {\n        current.style.scrollBehavior = scrollBehavior;\n      }\n    }, 0);\n  }, [containerElement, scrollBehavior]); // When the children are updated, scroll the container\n  // to the bottom.\n\n  react_1.default.useEffect(() => {\n    if (!autoScroll) {\n      return;\n    }\n\n    const {\n      current\n    } = containerElement;\n\n    if (current) {\n      current.scrollTop = current.scrollHeight;\n    }\n  }, [children, containerElement, autoScroll]);\n  return react_1.default.createElement(\"div\", {\n    className: cls\n  }, react_1.default.createElement(\"div\", {\n    className: `${baseClass}__scroll-container`,\n    onWheel: onWheel,\n    ref: containerElement,\n    style: style\n  }, children), showOption && !preventInteraction && react_1.default.createElement(\"div\", {\n    className: `${baseClass}__option`\n  }, react_1.default.createElement(\"input\", {\n    checked: autoScroll,\n    className: `${baseClass}__option-input`,\n    id: `${baseClass}__option-input-${checkBoxId}`,\n    onChange: () => setAutoScroll(!autoScroll),\n    type: \"checkbox\"\n  }), react_1.default.createElement(\"label\", {\n    className: `${baseClass}__option-text`,\n    htmlFor: `${baseClass}__option-input-${checkBoxId}`\n  }, optionText)));\n};","map":{"version":3,"sources":["../src/AutoScroll.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst classnames_1 = __importDefault(require(\"classnames\"));\nconst react_1 = __importDefault(require(\"react\"));\n/**\n * Base CSS class.\n * @private\n */\nconst baseClass = 'react-auto-scroll';\n/**\n * Get a random string.\n * @private\n */\nconst getRandomString = () => Math.random()\n    .toString(36)\n    .slice(2, 15);\n/**\n * AutoScroll component.\n */\nexports.default = ({ checkBoxId = getRandomString(), children, className, height, optionText = 'Auto scroll', preventInteraction = false, scrollBehavior = 'smooth', showOption = true, }) => {\n    const [autoScroll, setAutoScroll] = react_1.default.useState(true);\n    const containerElement = react_1.default.useRef(null);\n    const cls = classnames_1.default(baseClass, className, {\n        [`${baseClass}--empty`]: react_1.default.Children.count(children) === 0,\n        [`${baseClass}--prevent-interaction`]: preventInteraction,\n        [`${baseClass}--showOption`]: showOption,\n    });\n    const style = {\n        height,\n        overflow: 'auto',\n        scrollBehavior: 'auto',\n        pointerEvents: preventInteraction ? 'none' : 'auto',\n    };\n    // Handle mousewheel events on the scroll container.\n    const onWheel = () => {\n        const { current } = containerElement;\n        if (current && showOption) {\n            setAutoScroll(current.scrollTop + current.offsetHeight === current.scrollHeight);\n        }\n    };\n    // Apply the scroll behavior property after the first render,\n    // so that the initial render is scrolled all the way to the bottom.\n    react_1.default.useEffect(() => {\n        setTimeout(() => {\n            const { current } = containerElement;\n            if (current) {\n                current.style.scrollBehavior = scrollBehavior;\n            }\n        }, 0);\n    }, [containerElement, scrollBehavior]);\n    // When the children are updated, scroll the container\n    // to the bottom.\n    react_1.default.useEffect(() => {\n        if (!autoScroll) {\n            return;\n        }\n        const { current } = containerElement;\n        if (current) {\n            current.scrollTop = current.scrollHeight;\n        }\n    }, [children, containerElement, autoScroll]);\n    return (react_1.default.createElement(\"div\", { className: cls },\n        react_1.default.createElement(\"div\", { className: `${baseClass}__scroll-container`, onWheel: onWheel, ref: containerElement, style: style }, children),\n        showOption && !preventInteraction && (react_1.default.createElement(\"div\", { className: `${baseClass}__option` },\n            react_1.default.createElement(\"input\", { checked: autoScroll, className: `${baseClass}__option-input`, id: `${baseClass}__option-input-${checkBoxId}`, onChange: () => setAutoScroll(!autoScroll), type: \"checkbox\" }),\n            react_1.default.createElement(\"label\", { className: `${baseClass}__option-text`, htmlFor: `${baseClass}__option-input-${checkBoxId}` }, optionText)))));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXV0b1Njcm9sbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9BdXRvU2Nyb2xsLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUFvQztBQUNwQyxrREFBMEI7QUFxQjFCOzs7R0FHRztBQUNILE1BQU0sU0FBUyxHQUFHLG1CQUFtQixDQUFDO0FBRXRDOzs7R0FHRztBQUNILE1BQU0sZUFBZSxHQUFHLEdBQUcsRUFBRSxDQUMzQixJQUFJLENBQUMsTUFBTSxFQUFFO0tBQ1YsUUFBUSxDQUFDLEVBQUUsQ0FBQztLQUNaLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFFbEI7O0dBRUc7QUFDSCxrQkFBZSxDQUFDLEVBQ2QsVUFBVSxHQUFHLGVBQWUsRUFBRSxFQUM5QixRQUFRLEVBQ1IsU0FBUyxFQUNULE1BQU0sRUFDTixVQUFVLEdBQUcsYUFBYSxFQUMxQixrQkFBa0IsR0FBRyxLQUFLLEVBQzFCLGNBQWMsR0FBRyxRQUFRLEVBQ3pCLFVBQVUsR0FBRyxJQUFJLEdBQ1gsRUFBRSxFQUFFO0lBQ1YsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsR0FBRyxlQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pELE1BQU0sZ0JBQWdCLEdBQUcsZUFBSyxDQUFDLE1BQU0sQ0FBaUIsSUFBSSxDQUFDLENBQUM7SUFDNUQsTUFBTSxHQUFHLEdBQUcsb0JBQVUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFO1FBQzNDLENBQUMsR0FBRyxTQUFTLFNBQVMsQ0FBQyxFQUFFLGVBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDN0QsQ0FBQyxHQUFHLFNBQVMsdUJBQXVCLENBQUMsRUFBRSxrQkFBa0I7UUFDekQsQ0FBQyxHQUFHLFNBQVMsY0FBYyxDQUFDLEVBQUUsVUFBVTtLQUN6QyxDQUFDLENBQUM7SUFDSCxNQUFNLEtBQUssR0FBRztRQUNaLE1BQU07UUFDTixRQUFRLEVBQUUsTUFBTTtRQUNoQixjQUFjLEVBQUUsTUFBTTtRQUN0QixhQUFhLEVBQUUsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTTtLQUMzQyxDQUFDO0lBRVgsb0RBQW9EO0lBQ3BELE1BQU0sT0FBTyxHQUFHLEdBQUcsRUFBRTtRQUNuQixNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7UUFFckMsSUFBSSxPQUFPLElBQUksVUFBVSxFQUFFO1lBQ3pCLGFBQWEsQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxZQUFZLEtBQUssT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ2xGO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsNkRBQTZEO0lBQzdELG9FQUFvRTtJQUNwRSxlQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNuQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLGdCQUFnQixDQUFDO1lBRXJDLElBQUksT0FBTyxFQUFFO2dCQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQzthQUMvQztRQUNILENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNSLENBQUMsRUFBRSxDQUFDLGdCQUFnQixFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFFdkMsc0RBQXNEO0lBQ3RELGlCQUFpQjtJQUNqQixlQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNuQixJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2YsT0FBTztTQUNSO1FBRUQsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLGdCQUFnQixDQUFDO1FBRXJDLElBQUksT0FBTyxFQUFFO1lBQ1gsT0FBTyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO1NBQzFDO0lBQ0gsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFFN0MsT0FBTyxDQUNMLHVDQUFLLFNBQVMsRUFBRSxHQUFHO1FBQ2pCLHVDQUNFLFNBQVMsRUFBRSxHQUFHLFNBQVMsb0JBQW9CLEVBQzNDLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLEdBQUcsRUFBRSxnQkFBZ0IsRUFDckIsS0FBSyxFQUFFLEtBQUssSUFFWCxRQUFRLENBQ0w7UUFFTCxVQUFVLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxDQUNwQyx1Q0FBSyxTQUFTLEVBQUUsR0FBRyxTQUFTLFVBQVU7WUFDcEMseUNBQ0UsT0FBTyxFQUFFLFVBQVUsRUFDbkIsU0FBUyxFQUFFLEdBQUcsU0FBUyxnQkFBZ0IsRUFDdkMsRUFBRSxFQUFFLEdBQUcsU0FBUyxrQkFBa0IsVUFBVSxFQUFFLEVBQzlDLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFDMUMsSUFBSSxFQUFDLFVBQVUsR0FDZjtZQUVGLHlDQUNFLFNBQVMsRUFBRSxHQUFHLFNBQVMsZUFBZSxFQUN0QyxPQUFPLEVBQUUsR0FBRyxTQUFTLGtCQUFrQixVQUFVLEVBQUUsSUFFbEQsVUFBVSxDQUNMLENBQ0osQ0FDUCxDQUNHLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9"]},"metadata":{},"sourceType":"script"}